<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">

  <body>

    <div metal:fill-slot="main">
      <tal:main-macro metal:define-macro="main"
		      tal:define="content_type
				  here/get_content_type|here/Format;
				  canEdit python:checkPermission(
				  'Modify portal content', here,
				  );
				  portal_membership context/portal_membership;
				  fgFields python: 
				  context.formFolderObject().fgFields(
				  displayOnly=True,
				  )
				  ">
        <tal:block condition="exists: request/clearSavedFormInput">
          <span tal:define="dummy here/clearSavedFormInput" />
        </tal:block>

        <div tal:replace="structure provider:plone.abovecontenttitle" />
        
        <h1 tal:content="object_title" class="documentFirstHeading">
          Title or id
        </h1>
        
        <div tal:replace="structure provider:plone.belowcontenttitle" />
        
        <p class="documentDescription"
           tal:content="here/Description"
           tal:condition="here/Description">
          Description
        </p>
        
        <div tal:replace="structure provider:plone.abovecontentbody" />
        
	<tal:view condition="canEdit"
		  define="data context/getStatefulData;">

	  <metal:table
	     use-macro="here/fg_statefuldata_view/macros/table" />
	  
	  <metal:summary
	     use-macro="here/fg_statefuldata_view/macros/download" />

	  <metal:summary
	     use-macro="here/fg_statefuldata_view/macros/summary" />

	</tal:view>

	<tal:noview condition="not:canEdit">
	  You do not have permission to view this data.
	</tal:noview>

        <div tal:replace="structure provider:plone.belowcontentbody" />

      </tal:main-macro>
    </div>

  </body>

</html>
