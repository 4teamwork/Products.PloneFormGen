<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="plone">
  <body>

    <metal:main fill-slot="main">

      <h2>Choose user</h2>
      <p>Search for a user by their first name:</p>
      <form id="user-search"
	    method="post">
	<input type="text" name="user-search" />
	<br /><br />
	<input type="submit" name="submit" value="Submit" class="context" />
      </form><br />

      <div tal:condition="view/users">
	<p>Choose a user to submit the main form on their behalf.</p>
	<form id="user-select"
	      method="post">
	  <tal:r tal:repeat="user view/users">
	    <input type="radio" 
		   name="user-select" 
		   tal:attributes="value user/username;
				   id string:user-result-${repeat/user/index}" />
	    <label tal:content="user/fullname" /><br />
	  </tal:r>
	  <br /><br />
	  <input type="submit" name="submit" value="Submit" class="context" />
	</form>
      </div>

      <div tal:condition="view/no_users">
	<p tal:content="view/no_users" />
      </div>

    </metal:main>

  </body>
</html>
